<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Car Showroom</title>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene background="color: #ECECEC">

      <a-assets>
        <a-asset-item id="scorpio" src="https://scorpio-assets.netlify.app/assets/scorpio black.glb"></a-asset-item>
        <a-asset-item id="novara" src="novara.glb"></a-asset-item>
        <a-asset-item id="showroom" src="showroom.glb"></a-asset-item>
        <a-asset-item id="steering" src="https://precious-quokka-a3803f.netlify.app/assets/steering.glb"></a-asset-item>
      </a-assets>
      
    
      <!-- Lighting --> 
      <a-entity light="type: ambient; intensity: 0.7"></a-entity>
      <a-entity light="type: directional; intensity: 0.8; castShadow: true" position="2 4 2"></a-entity>
      <a-entity light="intensity: 2" position="-19.41012 4 -21.38108"></a-entity> 
      <a-entity light="intensity: 2" position="19.44065 4 -21.38108"></a-entity> 
      <a-entity light="intensity: 2" position="19.44065 4 18.26897"></a-entity> 
      <a-entity light="intensity: 2" position="-65.57752 4 70.91474"></a-entity> 
      <a-entity light="intensity: 3" position="3.47056 4.65821 -10.75879"></a-entity> 
      <a-entity light="intensity: 3" position="-4.52502 4.65821 -10.75879"></a-entity>

      <!-- Main Camera + Cursor -->
      <a-entity id="rig" position="0 1.6 8">
        <a-entity id="main_cam" camera="active: true" active look-controls>
          <a-cursor 
            fuse="false" 
            raycaster="objects: .clickable" 
            material="color: black; shader: flat">
          </a-cursor>
        </a-entity>
      </a-entity>
      
      <!-- Showroom -->
      //<a-entity gltf-model="#showroom" scale="1.3 1.3 1.3"></a-entity>
    


      
      <!-- Car left Scorpio -->
      <a-entity id="scorpio" gltf-model="#scorpio" position="-3 0.151 -1" rotation="0 180 0">

          //Front seat cam
          <a-entity id="rig" position="0.406 1.29 -0.095" rotation="0 0 0">
            <a-entity id="sco_front_seat_cam" camera look-controls>
              <a-cursor 
                fuse="false" 
                raycaster="objects: .clickable" 
                material="color: black; shader: flat"
                position="0 0 -0.5">
              </a-cursor>
            </a-entity>
          </a-entity>
    
          //Back seat cam
          <a-entity id="rig" position="-0.37081 1.29002 0.90993" rotation="0 0 0">
            <a-entity id="sco_back_seat_cam" camera look-controls>
              <a-cursor 
                fuse="false" 
                raycaster="objects: .clickable" 
                material="color: black; shader: flat"
                position="0 0 -0.5">
              </a-cursor>
            </a-entity>
          </a-entity>
    
          //Buttons Group-----------------------
          
          //swtich to main cam
          <a-plane id="sco_switch_to_main_cam" position="0.14 1.237 -0.73" width="1.5" height="0.5" color="#ff0000" class="clickable" text="align: center; color: white; value: Exit Car; width: 5" scale="0.1 0.1 0.1" rotation="0 0 0">
          </a-plane>

          //swtich to backseat cam
          <a-plane id="sco_switch_to_back_seat_cam" position="0.297 1.24 -0.72248" width="1.5" height="0.5" color="#002aff" class="clickable" text="align: center; color: white; value: Back Seat View; width: 5" scale="0.1 0.1 0.1" rotation="0 0 0">
          </a-plane>
   
          //swtich to frontseat cam
          <a-plane id="sco_switch_to_front_seat_cam" position="-0.40816 1.03954 0.42958" width="1.5" height="0.5" color="#002aff" class="clickable" text="align: center; color: white; value: Front Seat View; width: 5" scale="0.1 0.1 0.1" rotation="0 0 0">
          </a-plane>
    
          //drive
          <a-plane id="sco_drive" position="0.458 1.24 -0.707" width="1.5" height="0.5" color="#002aff" class="clickable" text="align: center; color: white; value: VR Drive; width: 5" scale="0.1 0.1 0.1">
          </a-plane>
      </a-entity>




      
      <!-- Car right Novara -->
      <a-entity id="novara" gltf-model="#novara" position="3 0.0151 -1" rotation="0 0 0"
      >

          //Front seat cam
          <a-entity id="rig" position="0.41308 1.29002 -0.43471" rotation="0 180 0">
            <a-entity id="nov_front_seat_cam" camera look-controls>
              <a-cursor 
                fuse="false" 
                raycaster="objects: .clickable" 
                material="color: black; shader: flat"
                position="0 0 -0.5">
              </a-cursor>
            </a-entity>
          </a-entity>
  
          //Back seat cam
          <a-entity id="rig" position="-0.37081 1.29002 -1.39088" rotation="0 180 0">
            <a-entity id="nov_back_seat_cam" camera look-controls>
              <a-cursor 
                fuse="false" 
                raycaster="objects: .clickable" 
                material="color: black; shader: flat"
                position="0 0 -0.5">
              </a-cursor>
            </a-entity>
          </a-entity>
  
          //Button group ---------

          //switch to main cam
          <a-plane id="nov_switch_to_main_cam" position="-0.01433 1.150 0.36547" width="1.5" height="0.5" color="#ff0000" class="clickable" text="align: center; color: white; value: Exit Car; width: 5" scale="0.1 0.1 0.1" rotation="0 180 0">
          </a-plane>

          //swtich to backseat cam
          <a-plane id="nov_switch_to_back_seat_cam" position="-0.18876 1.150 0.36547" width="1.5" height="0.5" color="#002aff" class="clickable" text="align: center; color: white; value: Back Seat View; width: 5" scale="0.1 0.1 0.1" rotation="0 180 0">
          </a-plane>

          //swtich to frontseat cam
          <a-plane id="nov_switch_to_front_seat_cam" position="-0.40816 1.03954 -0.78028" width="1.5" height="0.5" color="#002aff" class="clickable" text="align: center; color: white; value: Front Seat View; width: 5" scale="0.1 0.1 0.1" rotation="0 180 0">
          </a-plane>
    
          //drive
          <a-plane id="nov_drive" position="-0.3841 1.150 0.36547" width="1.5" height="0.5" color="#002aff" class="clickable" text="align: center; color: white; value: VR Drive; width: 5" scale="0.1 0.1 0.1" rotation="0 180 0">
          </a-plane>

      </a-entity>

      
      
      
      
      <!-- Main scene buttons -->
      <a-plane id="sco_btn" position="-1.85175 0.266 4" width="1.5" height="0.5" 
               color="#007BFF" class="clickable"
               text="value: Scorpio Interior; align: center; color: white; width: 5;"
               scale="1 1 1">
      </a-plane>
      
      <a-plane id="nov_btn" position="1.67942 0.266 4" width="1.5" height="0.5" 
               color="#28A745" class="clickable"
               text="value: Novara Interior; align: center; color: white; width: 5;"
               scale="1 1 1">
      </a-plane>

      <!-- <a-plane id="switchtoCam2" position="0 0.266 4" width="1.5" height="0.5" 
               color="#28A745" class="clickable"
               text="value: SwitchCam; align: center; color: white; width: 5;"
               scale="1 1 1">
      </a-plane> -->
         
  
    </a-scene>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
          const sco_btn = document.querySelector("#sco_btn");
          const nov_btn = document.querySelector("#nov_btn");
          const sco_drive = document.querySelector("#sco_drive");
          const nov_drive = document.querySelector("#nov_drive");

          // Hover animation ----------------
          function addHoverEffects(btn, normalColor, hoverColor) {
            btn.addEventListener("mouseenter", () => {
              btn.setAttribute("color", hoverColor);
              btn.setAttribute("animation__hover", {
                property: "scale",
                to: "1.2 1.2 1.2",
                dur: 150,
                easing: "easeOutQuad"
              });
            });
            btn.addEventListener("mouseleave", () => {
              btn.setAttribute("color", normalColor);
              btn.setAttribute("animation__unhover", {
                property: "scale",
                to: "1 1 1",
                dur: 150,
                easing: "easeOutQuad"
              });
            });
          }

          addHoverEffects(sco_btn, "#007BFF", "#0056b3");
          addHoverEffects(nov_btn, "#28A745", "#1e7e34");

          // Click press-down animation
          function playClickAnimation(btn) {
            btn.setAttribute("animation__press", {
              property: "scale",
              to: "0.9 0.9 0.9",
              dur: 80,
              dir: "alternate",
              easing: "easeInOutQuad",
          
            });
          }

          
          // Switch to VR drive ------------
        
          sco_drive.addEventListener("click", () => {
            playClickAnimation(sco_btn);
            setTimeout(() => {
              window.location.href = "https://vr-driving.netlify.app/video3";
            }, 200);
          });

          nov_drive.addEventListener("click", () => {
            playClickAnimation(nov_btn);
            setTimeout(() => {
              window.location.href = "https://vr-driving.netlify.app/video3";
            }, 200);
          });
  
        });



        
        // camera switch ----------------------
        
        //main cam
        const main_cam = document.getElementById('main_cam');

        //scorpio cam
        const sco_front_seat_cam = document.getElementById('sco_front_seat_cam');
        const sco_back_seat_cam = document.getElementById('sco_back_seat_cam');
        
        //scorpio camera switch buttons
        const sco_switch_to_front_seat_cam = document.getElementById('sco_switch_to_front_seat_cam');
        const sco_switch_to_back_seat_cam = document.getElementById('sco_switch_to_back_seat_cam');
        const sco_switch_to_main_cam = document.getElementById('sco_switch_to_main_cam');
    

        //novara cam
        const nov_front_seat_cam = document.getElementById('nov_front_seat_cam');
        const nov_back_seat_cam = document.getElementById('nov_back_seat_cam');
        
        //novara camera switch buttons
        const nov_switch_to_front_seat_cam = document.getElementById('nov_switch_to_front_seat_cam');
        const nov_switch_to_back_seat_cam = document.getElementById('nov_switch_to_back_seat_cam');
        const nov_switch_to_main_cam = document.getElementById('nov_switch_to_main_cam');
       
        
        // const button1 = document.getElementById('switchtoCam2');
        // const button2 = document.getElementById('switchtoCam1');
        
        // let useCam1 = true;


        //Scorpio camera switching------------

            //switch to front cam from main cam
            sco_btn.addEventListener('click', () => {
              //active cam
              sco_front_seat_cam.setAttribute('camera', 'active', true);
              //inactive cams
              main_cam.setAttribute('camera', 'active', false);
              nov_front_seat_cam.setAttribute('camera', 'active', false);
              nov_back_seat_cam.setAttribute('camera', 'active', false);
              sco_back_seat_cam.setAttribute('camera', 'active', false);
              
              // useCam1 = !useCam1;
            });
        
            //switch to front cam from back cam
            sco_switch_to_front_seat_cam.addEventListener('click', () => {
              //active cam
              sco_front_seat_cam.setAttribute('camera', 'active', true);
              //inactive cams
              main_cam.setAttribute('camera', 'active', false);
              nov_front_seat_cam.setAttribute('camera', 'active', false);
              nov_back_seat_cam.setAttribute('camera', 'active', false);
              sco_back_seat_cam.setAttribute('camera', 'active', false);
              
            });

        
            //switch to back cam
            sco_switch_to_back_seat_cam.addEventListener('click', () => {
              //active cam
              sco_back_seat_cam.setAttribute('camera', 'active', true);
              //inactive cams
              main_cam.setAttribute('camera', 'active', false);
              nov_front_seat_cam.setAttribute('camera', 'active', false);
              nov_back_seat_cam.setAttribute('camera', 'active', false);
              sco_front_seat_cam.setAttribute('camera', 'active', false);
            });

        
            //switch to main cam
            sco_switch_to_main_cam.addEventListener('click', () => {
              //active cam
              main_cam.setAttribute('camera', 'active', true);
              //inactive cams
              nov_front_seat_cam.setAttribute('camera', 'active', false);
              nov_back_seat_cam.setAttribute('camera', 'active', false);
              sco_front_seat_cam.setAttribute('camera', 'active', false);
              sco_back_seat_cam.setAttribute('camera', 'active', false);
            });


        
        
        //Novara camera switching------------

            //switch to front cam from main cam
            nov_btn.addEventListener('click', () => {
              //active cam
              nov_front_seat_cam.setAttribute('camera', 'active', true);
              //inactive cams
              main_cam.setAttribute('camera', 'active', false);
              sco_front_seat_cam.setAttribute('camera', 'active', false);
              sco_back_seat_cam.setAttribute('camera', 'active', false);
              nov_back_seat_cam.setAttribute('camera', 'active', false);
              
              // useCam1 = !useCam1;
            });
        
            //switch to front cam from back cam
            nov_switch_to_front_seat_cam.addEventListener('click', () => {
              //active cam
              nov_front_seat_cam.setAttribute('camera', 'active', true);
              //inactive cams
              main_cam.setAttribute('camera', 'active', false);
              sco_front_seat_cam.setAttribute('camera', 'active', false);
              sco_back_seat_cam.setAttribute('camera', 'active', false);
              nov_back_seat_cam.setAttribute('camera', 'active', false);
              
            });

        
            //switch to back cam
            nov_switch_to_back_seat_cam.addEventListener('click', () => {
              //active cam
              nov_back_seat_cam.setAttribute('camera', 'active', true);
              //inactive cams
              main_cam.setAttribute('camera', 'active', false);
              sco_front_seat_cam.setAttribute('camera', 'active', false);
              sco_back_seat_cam.setAttribute('camera', 'active', false);
              nov_front_seat_cam.setAttribute('camera', 'active', false);
            });

        
            //switch to main cam
            nov_switch_to_main_cam.addEventListener('click', () => {
              //active cam
              main_cam.setAttribute('camera', 'active', true);
              //inactive cams
              nov_front_seat_cam.setAttribute('camera', 'active', false);
              nov_back_seat_cam.setAttribute('camera', 'active', false);
              sco_front_seat_cam.setAttribute('camera', 'active', false);
              sco_back_seat_cam.setAttribute('camera', 'active', false);
            });
        
    </script>
    
  </body>
</html>
